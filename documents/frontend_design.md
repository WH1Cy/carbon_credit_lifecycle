# 前端设计方案

## 整体布局

1. 左侧弹出式导航栏
2. 顶部右上角显示当前用户信息。钱包未连接时为“连接钱包”按钮，钱包已连接时显示头像、用户名、权限。鼠标移动到用户信息框处时，弹出下拉菜单。菜单内容包括“个人资料”“切换地址”“退出钱包”。如果钱包已连接但不存在用户信息，则用户名显示“新用户”、头像显示默认头像、权限不显示，下拉菜单内容包括“个人资料完善”“切换地址”“退出钱包”。

## 页面设计

- 不同的页面/功能区要遵从相同的设计语言，注重设计的统一性。
- 对页面的访问权限进行严格管控。若没有相应权限的用户访问了某个页面，则提示“无权限”信息，并提供一个返回上一页的按钮。
- 在进行权限管控时，注意同一个用户可能具有多重身份。
- 若用户不具有对应的访问权限，则该页面不要出现在左侧菜单中
- 在左侧导航栏中，对于属于不同功能大类的页面，使用二级菜单的设计，即分为如下几个一级菜单“概览”“用户”“项目”“审核”“碳信用“”证书“
- 所有涉及到编辑原因（Edit Reason）的地方，均要把编辑原因的输入做成一个单独的确认窗口
- 本设计方案中提到的头像，均使用用户名生成默认头像，不设置上传头像功能

## 概览（Dashboard）页面

1. 所有用户，无论是否连接钱包，无论是否存在用户信息，都可以访问。该页面显示在左侧导航栏中，是主路由页面。
2. 上方显示“注册用户数”“项目总数”“碳信用批次数”“核发证书数”统计信息，点击不跳转至其它页面。
3. 中间显示“最新项目”“最新碳信用交易”“最新核发证书”的滚动大屏，点击“查看更多”按钮后分别跳转至“项目总览”“碳信用交易市场”“证书总览”页面。
4. 下方显示“个人资料”块，包括“头像”“钱包地址”“用户名”“权限”信息，以及“查看更多”“编辑个人资料”两个按钮，点击后跳转至“个人资料”页面。如果用户未登录，则该区域居中显示“连接钱包”按钮及提示语。如果用户登录但不存在用户信息，则该区域居中显示“个人资料完善”按钮及提示语。
5. 当用户登录但不存在用户信息时（即首次登录），在概览页面即以窗口形式弹出“个人资料完善”框。“个人资料完善”并非强制操作，用户可以关闭该框。不再为“个人资料完善”这一业务逻辑设置单独的页面。

## 用户

## 个人资料

1. 所有存在用户信息的用户可以访问此页面。
2. 页面上方包括“头像”“钱包地址”“用户名”“权限”三条信息，以及“编辑资料”按钮。“编辑资料”以弹窗的形式呈现
3. 页面下方以美观的时间轴形式展示该用户的个人资料变更历史。

## 用户管理

1. 权限包含REGULATOR的用户可以访问此页面。
2. 提供所有用户的一个列表，该列表具有筛选和按名称/地址搜索功能。
3. 列表每行最右侧有一个“详情”按钮，点开后有一个弹窗展示用户详细信息。还有一个“编辑资料”按钮和一个“权限管理”按钮，有一个“记录查询”按钮。“记录查询按钮”点开后是一个下拉列表，有几个选项“用户的项目查询”、“用户持有的碳信用查询”、“用户关联的证书查询”，点击按钮后分别跳转至“项目管理”“碳信用管理”“证书管理”页面，并以用户地址为条件进行筛选。
4. 列表上方有一个“注册新用户”按钮，以弹窗形式展现，其调用的函数和“管理员编辑用户资料”完全相同

## 项目

### 项目总览（项目管理）

1. 所有用户，无论是否连接钱包，无论是否存在用户信息，都可以访问。
2. 对于具有REGULATOR权限的用户，该页面在导航栏和页面标题等处均更名为“项目管理”
3. 提供所有项目的一个列表，点击项目可以进入对应的项目详情页，该列表具有筛选和按名称/id搜索功能。
4. 列表每行最右侧有一个“详情”按钮。
5. 对于具有REGULATOR权限的用户，列表每行最右侧还有一个“编辑信息”按钮和“撤销项目”按钮。


### 我的项目

1. 权限包含PROJECT_OWNER的用户可以访问此页面
2. 内容同项目总览页面，但只展示本人名下的项目，列表每行最右侧还有一个“编辑信息”按钮，但仅状态为“等待送审”时可用。列表中清楚显示当前项目的状态：等待送审、提交送审、审核中、审核通过，并有按钮供用户将项目提交审核
3. 列表上方有一个“注册新项目”按钮，以弹窗形式展现


### 项目详情（隐藏路由）

1. 所有用户，无论是否连接钱包，无论是否存在用户信息，都可以访问。
2. 该页面展示项目的详细信息及其变更历史、审核记录、关联的碳信用发放和流转记录、碳信用核销情况。请注意碳信用的拆分和递归。
3. 显示碳信用关联的证书信息。

## 审核

### 审核市场

1. 权限包含VERIFICATOR的用户可以访问本页面
2. 该页面展示所有状态为“提交送审”的项目，点击可跳转到项目详情页面，每个条目右侧有一个“接受审核任务”的按钮

### 我的审核

1. 权限包含VERIFICATOR的用户可以访问本页面
2. 该页面展示所有我审核过或者已经接受的审核任务，对于正在审核的项目，每个条目右侧有一个“提交审核意见”按钮

## 碳信用

### 碳信用交易市场

1. 所有用户，无论是否连接钱包，无论是否存在用户信息，都可以访问。但只有PROJECT_OWNER和BUYER可以执行购买和出售碳信用的操作，其它用户只能旁观
2. 支持碳信用的转账操作，转账时要选择转出自己持有的哪个碳信用，以及转出多少，支持对同一批次的碳信用进行拆分
3. 下方显示所有碳信用交易的列表

### 我的碳信用

1. 只有PROJECT_OWNER和BUYER可访问该页面
2. 列表显示自己持有的所有碳信用
3. 点击某个碳信用后，去到与该碳信用相关的项目详情页面。
4. 列表每行右侧有一个“核销”按钮

## 证书

### 证书总览（证书管理）

1. 所有用户，无论是否连接钱包，无论是否存在用户信息，都可以访问。
2. 对于具有REGULATOR权限的用户，该页面在导航栏和页面标题等处均更名为“证书管理”
3. 提供所有证书的一个列表，点击项目可以进入证书对应的项目详情页。
4. 列表每行最右侧有一个“详情”按钮。
5. 对于具有REGULATOR权限的用户，列表每行最右侧还有一个“撤销证书”按钮。

### 我的证书

